def venosa_draft3():
  set_tool_voltage(24)
  modbus_add_signal("127.0.0.1", 255, 0, 0, "Video", False)
  modbus_set_signal_update_frequency("Video", 10)
  modbus_add_signal("127.0.0.1", 255, 0, 1, "vid_fim", False)
  modbus_set_signal_update_frequency("vid_fim", 10)
  modbus_set_runstate_dependent_choice("vid_fim",0)
  set_tcp(p[-0.04,-0.04,0.2,0.0,0.0,0.785])
  set_payload(2.0,[-0.04,-0.04,0.115])
  set_gravity([0.0, 0.0, 9.82])
  set_safety_mode_transition_hardness(1)
  set_standard_analog_input_domain(0, 1)
  set_standard_analog_input_domain(1, 1)
  set_tool_analog_input_domain(0, 1)
  set_tool_analog_input_domain(1, 1)
  set_analog_outputdomain(0, 1)
  set_analog_outputdomain(1, 1)
  set_input_actions_to_default()
  global L=0.2
  while (True):
    $ 1 "Robot Program"
    $ 2 "Danca"
    $ 3 "Loop Videoâ‰Ÿ False "
    thread Thread_while_3():
      while (True):
        $ 4 "MoveJ"
        $ 5 "Waypoint_1"
        movej(get_inverse_kin(p[.209295116046, -.023759531272, .627935909486, .053570116884, -.383301979466, .520184908980], qnear=[0.44655171036720276, -3.183471981679098, 1.5472345352172852, -2.695011917744772, -1.5823801199542444, 4.01383638381958]), a=1.3962634015954636, v=0.6981317007977318)
        $ 6 "Waypoint_2"
        movej(get_inverse_kin(p[.060121497999, -.097481021213, .787257607613, -.000099696982, -.054104280704, .516066840439], qnear=[0.4348914325237274, -2.2099316755877894, 1.388291358947754, -3.8392227331744593, -1.5823801199542444, 4.01381254196167]), a=1.3962634015954636, v=0.6981317007977318)
        $ 7 "Waypoint_3"
        movej(get_inverse_kin(p[.402471901093, .025798534582, .616926639536, -.069704283946, -.092509717536, .362224916829], qnear=[0.2999670207500458, -2.3653577009784144, -0.7297003904925745, -1.5349682013141077, -1.6405928770648401, 3.995901346206665]), a=1.3962634015954636, v=0.6981317007977318)
        $ 8 "Waypoint_4"
        movej(get_inverse_kin(p[-.360047034882, -.215963913695, .469186451749, .079042527752, -1.186454404584, .286148896004], qnear=[0.3098435401916504, 0.04729199409484863, -2.0295279661761683, -1.5478652159320276, -1.6406648794757288, 3.99591326713562]), a=1.3962634015954636, v=0.6981317007977318)
        $ 9 "Waypoint_5"
        movej(get_inverse_kin(p[-.489411721446, -.252244449587, .487886752918, .073007562959, -1.155291208136, .278749399305], qnear=[0.2991037964820862, 0.04701638221740723, -1.3709800879107874, -2.23700458208193, -1.6404498259173792, 3.9959254264831543]), a=1.3962634015954636, v=0.6981317007977318)
        $ 10 "Waypoint_6"
        movej(get_inverse_kin(p[-.296120143214, -.191354954249, .576601911573, .057852035005, -1.083201066821, .287873203932], qnear=[0.2993318736553192, -0.38291913667787725, -1.797635857258932, -1.4538281599627894, -1.6404975096331995, 3.99591326713562]), a=1.3962634015954636, v=0.6981317007977318)
        $ 11 "Waypoint_7"
        movej(get_inverse_kin(p[-.488569215224, -.167359790210, .614619158593, -.013585497456, -1.262250102172, .130989406218], qnear=[0.14405150711536407, -0.6205061117755335, -0.7192357222186487, -2.113027874623434, -1.6404498259173792, 3.995877265930176]), a=1.3962634015954636, v=0.6981317007977318)
        $ 12 "Waypoint_8"
        movej(get_inverse_kin(p[-.133685398497, -.114831074789, .685693006029, -.028705446520, -1.108786584108, .147191674270], qnear=[0.14472299814224243, -1.3028276602374476, -1.0842812697040003, -1.219987694417135, -1.6404975096331995, 3.9958174228668213]), a=1.3962634015954636, v=0.6981317007977318)
        $ 13 "Waypoint_9"
        movej(get_inverse_kin(p[.072456798202, -.160104604862, .685923851407, .693505996484, -.979347578633, 1.287461281388], qnear=[1.4290697574615479, -1.3037751356707972, -1.084365193043844, -1.2203353087054651, -1.6405213514911097, 3.9958415031433105]), a=1.3962634015954636, v=0.6981317007977318)
        $ 14 "Waypoint_10"
        movej(get_inverse_kin(p[.061419171889, -.254469512215, .510055864408, .731815518914, -1.014807428318, 1.277200669045], qnear=[1.4301828145980835, -0.627993408833639, -2.1612723509417933, -0.7715104261981409, -1.636017147694723, 3.9958415031433105]), a=1.3962634015954636, v=0.6981317007977318)
      end
    end
    if (modbus_get_signal_status("Video") ==   False  ):
      global thread_handler_3=run Thread_while_3()
      while (modbus_get_signal_status("Video") ==   False  ):
        sync()
      end
      kill thread_handler_3
    end
    $ 15 "stopj(2)"
    stopj(2)
    $ 16 "Rotina Video"
    $ 17 "MoveJ"
    $ 18 "inicio_do_filme"
    movej(get_inverse_kin(p[.130909674576, -.168681354942, .504906336451, 1.152090179848, -1.146556080581, 1.399943805770], qnear=[1.68025803565979, -2.6507156530963343, 1.672675609588623, -2.2789629141436976, -1.5818780104266565, 4.013824462890625]), a=1.3962634015954636, v=1.3089969389957472)
    $ 19 "Set DO[1]=On"
    set_standard_digital_out(1, True)
    $ 21 "esquerda"
    movej(get_inverse_kin(p[.270407240290, -.355692418762, .521271705822, 1.367013139047, -1.081676927410, 1.407669934460], qnear=[2.2158098220825195, -1.5950544516192835, 1.1496853828430176, -2.7163355986224573, -1.9661343733416956, 3.936570882797241]), a=1.3962634015954636, v=1.3089969389957472, r=0.05)
    $ 22 "giro_esq"
    movej(get_inverse_kin(p[.215327488023, -.235300404238, .624250909880, .494076382322, -2.080944337543, 2.157982569812], qnear=[2.2782046794891357, -1.9003098646747034, 0.9771156311035156, -2.2321980635272425, -2.1107786337481897, 5.186794757843018]), a=1.3962634015954636, v=1.3089969389957472, r=0.05)
    $ 23 "centro_bx"
    movej(get_inverse_kin(p[.128595099312, -.554173195669, .132955891008, .895996747699, -.922235082038, 1.506814163511], qnear=[1.5528428554534912, -0.1704190413104456, 1.4172515869140625, -4.813843909894125, -1.5065191427813929, 4.046760559082031]), a=1.3962634015954636, v=1.3089969389957472, r=0.05)
    $ 24 "Direita"
    movej(get_inverse_kin(p[-.255278218164, -.402824248251, .346181728800, 1.451516878142, -1.022338877319, 1.522369368569], qnear=[0.07571558654308319, -0.8986151854144495, 1.0434751510620117, -3.1855648199664515, 0.30511274933815, 3.865269184112549]), a=1.3962634015954636, v=1.3089969389957472, r=0.05)
    $ 25 "alto"
    movej(get_inverse_kin(p[.067795597014, -.389458732987, .633759439949, 1.358902971690, -1.061399003750, 1.298971584469], qnear=[0.07648295164108276, -1.7657645384417933, 0.32309865951538086, -1.617636505757467, 0.1138153076171875, 3.7829084396362305]), a=1.3962634015954636, v=1.3089969389957472, r=0.05)
    $ 26 "Set vid_fim=On"
    modbus_set_output_signal("vid_fim", True)
    $ 27 "Set DO[1]=Off"
    set_standard_digital_out(1, False)
  end
end
